{% extends "base.html" %}

{% block title %}index{% endblock %}

{% block content %}
<h1>Kaki - knock of Taki (Jewish Version of Uno)</h1>

<input type="text" id="username" name="username" maxlength="10" placeholder="Enter Username">

<a href="/create-room">Create Room</a>

<br><br>
<a href="#">This</a>
<br><br>

<div id="room-list">
  <h2>Room List</h2>

  {% if rooms|length > 0 %}
    <ul>
    {% for room in rooms %}
      <li><a href="/room/{{room.id}}">{{room.id}}</a></li>
    {% endfor %}
    </ul>
  {% else %}
      <p>No rooms available</p>
  {% endif %}
</div>

<script type="text/javascript" charset="utf-8">
  const source = document.getElementById('username');

  source.value = localStorage.getItem("username");

  const inputHandler = function(e) {
    localStorage.setItem("username", e.target.value);
  }

  source.addEventListener('input', inputHandler);
  source.addEventListener('propertychange', inputHandler); // for IE8
  // Firefox/Edge18-/IE9+ donâ€™t fire on <select><option>
  // source.addEventListener('change', inputHandler);
</script>
{% endblock %}
